---
id: improving_model
title: 优化你的模型
---

你可能会发现Frigate+模型最初会产生更多误报，但通过提交正确检测样本和误报样本，模型会不断改进。随着订阅用户提交的新图像越来越多，未来的基础模型也会随之改进。请注意，只有包含至少一个已验证标签的图像才会用于训练你的模型。从Frigate提交图像作为正确检测或误报样本不会自动验证该图像，你仍需在Frigate+中验证图像才能用于训练。

- **同时提交正确检测样本和误报样本**：这有助于模型区分正确和错误的检测。建议保持80%的正确检测样本和20%的误报样本的比例。如果在特定区域出现误报，在相似光照条件下提交该区域附近任何对象类型的正确检测样本，将帮助模型学习无对象时该区域的特征。
  
- **适当降低阈值以获取阈值附近更多样本**：例如，如果有68%分数的误报和72%分数的正确检测，可以尝试将阈值降至65%并提交该范围内的样本。这有助于模型学习并扩大正确检测与误报之间的分数差距。

- **提交多样化的图像**：最佳效果需要每个摄像头至少100张已验证图像。需包含不同条件下的样本：阴天、晴天、黎明、黄昏和夜间。当环境变化时（如夏季转冬季或有新家具时），可能需要提交新样本来应对新型误报。

## 正确标注图像

遵循以下指南可获得最佳效果：

**标注图像中每个对象**：验证前标注所有对象很重要。如果未标注汽车，模型会误认为该区域不是汽车。可以排除不想检测的标签。

**使用紧密的边界框**：更精确的边界框能提高识别准确率，确保运行时预测的边界框更精准。

**即使被遮挡也要标注完整对象**：如人物被汽车遮挡，仍应标注整个人物。这有助于预测准确边界框，提高区域准确性和运行时过滤效果。若对象部分在画面外，仅当人眼可识别时才标注。

**难以识别的对象标记为"困难"**：当对象确实难以辨认时（如灌木丛后隐约可见的汽车或夜间难辨的狗），标记为"困难"。目前这不影响训练，但未来会纳入考量。

**快递标识如`amazon`、`ups`和`fedex`应单独标注**：对Fedex卡车，用`car`标注整车，再为Fedex标识单独标注边界框。多个标识需分别标注。

![Fedex标识](/img/plus/fedex-logo.jpg)

## 误报标注

误报会显示红色框和删除线标签。
![误报示例](/img/plus/false-positive.jpg)

错误识别的对象应添加正确标签。例如若将人误识别为猫，应在Frigate中提交为误报并添加人物标签。边界框会重叠。

![重叠标注示例](/img/plus/false-positive-overlap.jpg)

## 快捷操作指南

| 快捷键          | 功能描述                   |
| --------------- | ------------------------- |
| `?`             | 显示所有快捷键            |
| `w`             | 添加边界框                |
| `d`             | 切换困难标记              |
| `s`             | 切换至下一个标签          |
| `tab`           | 选择下一个最大边界框      |
| `del`           | 删除当前边界框            |
| `esc`           | 取消选择/取消操作         |
| `← ↑ → ↓`       | 移动边界框                |
| `Shift+方向键`  | 调整边界框大小            |
| `滚轮`          | 缩放视图                  |
| `f`             | 隐藏/显示非当前边界框     |
| `空格键`        | 验证并保存                |