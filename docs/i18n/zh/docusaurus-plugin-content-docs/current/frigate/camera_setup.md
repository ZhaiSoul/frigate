---
id: camera_setup
title: 摄像头设置
---

配置输出H.264视频和AAC音频的摄像头可提供与Frigate及Home Assistant所有功能的最佳兼容性。H.265虽有更高压缩率，但兼容性较差。仅Chrome 108+、Safari和Edge浏览器支持播放H.265，且仅兼容有限的H.265配置方案。建议直接在摄像头中配置您希望在Frigate中使用的分辨率和帧率。在Frigate内降低帧率会浪费CPU资源解码被丢弃的冗余帧。您需要围绕以下三个目标调整视频流配置：

- **检测**：这是Frigate唯一会解码处理的视频流，也是生成快照的来源。检测分辨率应根据目标物体大小进行调整（详见[选择检测分辨率](#选择检测分辨率)）。推荐帧率为5fps，但对高速移动物体可能需要更高（多数用户建议最大不超过10fps）。更高的分辨率和帧率会导致服务器CPU负载升高。

- **录像**：此视频流应设置为需要存储的参考分辨率，通常使用摄像头支持的最高分辨率。建议在摄像头固件中将此流帧率设为15fps。

- **实时观看**：此视频流将直接转播至Home Assistant的流媒体组件。设置过高分辨率会在观看时占用大量带宽，低速网络连接下可能无法稳定加载。

### 选择检测分辨率

理想的检测分辨率应使目标物体完全适配Frigate使用的模型尺寸（320x320）。Frigate不会将整个画面传递给物体检测模块，而是从全帧中裁剪运动区域进行分析。若检测区域大于320x320，Frigate必须在检测前进行缩放。更高分辨率不会提升检测精度，因为额外细节会在缩放过程中丢失。下方参考图展示了320x320区域在常见分辨率中的实际占比。

当目标物体在画面中非常小时，更高分辨率**确实**能提升性能。

![分辨率对照图](/img/resolutions-min.jpg)

### 摄像头配置示例

以大华/Loryta 5442摄像头为例，推荐配置如下：

**主码流（录像与RTSP）**

- 编码模式：H.264
- 分辨率：2688*1520
- 帧率：15fps
- 关键帧间隔：30（也可设为15以优化流媒体性能，详见[摄像头设置建议](/configuration/live#摄像头设置建议)）

**子码流（检测）**

- 启用：子码流2
- 编码模式：H.264
- 分辨率：1280*720
- 帧率：5fps
- 关键帧间隔：5